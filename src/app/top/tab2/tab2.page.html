<ion-header>
  <ion-toolbar>
    <ion-menu-button slot="start"></ion-menu-button>
    <ion-title *ngIf="from && to;else notime">      
      <div *ngIf="from.getTime() !== to.getTime();else fromto">{{from|date:'day'}}～{{to|date:'day'}}の予約</div>
      <ng-template #fromto>{{from|date:'day'}}の予約</ng-template>
    </ion-title>
    <ng-template #notime>
      <ion-title>日時を選択してください。</ion-title>
    </ng-template>
    <ion-button (click)="openCalendar()" slot="end" fill="clear">
      <ion-icon name="create" slot="icon-only" color="primary"></ion-icon>
    </ion-button>    
    <ion-menu-button menu="end" slot="end">
      <ion-icon name="contacts"></ion-icon>
    </ion-menu-button>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true"> 
  <p style="text-align: center;"><ion-text >２０２１年４月　プレオープン予定です。</ion-text></p>  
  <ion-grid *ngFor="let stayTyp of stayTyps">
    <div class="title"><h2>{{stayTyp.title}}</h2></div>
    <ion-row>
      <ion-col *ngFor="let stay of stayTyp.stays" size-xs="6" size-sm="4" size-md="3" size-lg="6" size-xl="4">
        <ion-card [button]="!stay.state" (click)="openCalendar(stay)">
          <ion-card-header>
            <ion-card-title>{{stay.title}}</ion-card-title>
            <ion-button (click)="editStay(stay.id)" slot="end" fill="clear">
              <ion-icon name="create" slot="icon-only" color="primary"></ion-icon>
            </ion-button>   
            <ion-card-subtitle *ngIf="stay.state">{{state[stay.state]}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <img [src]="stay.img"/>
            {{stay.txt}}            
            <div *ngIf="stay.lo&&stay.hi&&stay.lo!=stay.hi;else price">{{stay.lo}}～{{stay.hi}}円</div>
            <ng-template #price>
              <div #price style="text-align: right;">{{stay.price}}円</div>
            </ng-template>
            <ion-item>
              <ion-item *ngFor="let user of stay.users" button="true">
                <ion-avatar><img [src]="user.avatar" [alt]="user.na"/></ion-avatar>
              </ion-item>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<!--
 [disabled]="to.getTime()>=now.getTime()&&xScale.value===1"


  
-->